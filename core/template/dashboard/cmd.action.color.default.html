<div class="cmd cmd-widget" data-type="action" data-subtype="color" data-cmd_id="#id#" style="width: 146px;">
    <input class="action_colorpicker_change form-control cursor" type="color" style="display: inline;width: 90px;">
    <a class="btn btn-black action_colorpicker_off" style="position: relative; top: -1px;border: none;border-radius : 0px;">Off</a>

    <script>
        $(function() {
            $('.cmd[data-cmd_id=#id#] .action_colorpicker_change').value(('#state#' != '') ? '#state#' : '#000000');
            $('.cmd[data-cmd_id=#id#] .action_colorpicker_off').on('click', function() {
                execCmd('#id#', {color: '#000000'});
                $('.cmd[data-cmd_id=#id#] .action_colorpicker_change').value('#000000');
            });
            $('.cmd[data-cmd_id=#id#] .action_colorpicker_change').on('change', function() {
                execCmd('#id#', {color: $(this).value()});
            });
        });
    </script>
</div>